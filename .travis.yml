notifications:
  email:
    on_success: never
    on_failure: never

language: python

python:
  - "3.6"
  - "3.7-dev"

os:
  - linux
# - osx     # OSX + Python is not officially supported by Travis CI as of Feb.
            # 2018 nevertheless, "nightly" and some "*-dev" versions seem to
            # work, so we include them explicitly below (see "matrix: include:
            # ..." below). They only seem to work with the xcode8.3 image, and
            # not the newer ones. Thus we will leave this in, until it breaks
            # one day, at which point we will probably remove testing on OSX if
            # it is not supported then.

matrix:
  include:
    - os: osx
      osx_image: xcode8.3
      python: "3.6-dev"
    - os: osx
      osx_image: xcode8.3
      python: "3.7-dev"

install:
  - pip install -U tox-travis
  - bash install_miniconda.sh


script: tox

# We only want to build with Travis when pushing to master or PR:
# https://stackoverflow.com/questions/31882306/how-to-configure-travis-ci-to-
# build-pull-requests-merges-to-master-w-o-redunda/31882307#31882307
branches:
  only:
    - master
